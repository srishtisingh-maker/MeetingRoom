<div class="container mt-4">

  <h3 class="mb-4 text-center">Edit Meeting Room</h3>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center">
    <div class="spinner-border text-primary"></div>
    <p class="mt-2">Loading room details...</p>
  </div>

  <!-- Form -->
  <form *ngIf="!loading" [formGroup]="roomForm" (ngSubmit)="submit()" class="edit-card">

    <!-- Room Name -->
    <div class="mb-3">
      <label class="form-label">Room Name</label>
      <input type="text" class="form-control" formControlName="name">
      <small class="text-danger" *ngIf="roomForm.get('name')?.touched && roomForm.get('name')?.invalid">
        Room name is required
      </small>
    </div>

    <!-- Building -->
    <div class="mb-3">
      <label class="form-label">Building</label>
      <input type="text" class="form-control" formControlName="building">
    </div>

    <!-- Floor -->
    <div class="mb-3">
      <label class="form-label">Floor</label>
      <input type="number" class="form-control" formControlName="floor">
    </div>

    <!-- Capacity -->
    <div class="mb-3">
      <label class="form-label">Capacity</label>
      <input type="number" class="form-control" formControlName="capacity">
    </div>

    <!-- IsActive -->
    <div class="mb-3 form-check">
      <input type="checkbox" class="form-check-input" id="isActive" formControlName="isActive">
      <label class="form-check-label" for="isActive">Active</label>
    </div>

    <!-- Accessories -->
  <div class="mb-3">
  <label class="form-label">Accessories</label>

  <div class="form-check" *ngFor="let acc of accessories">
    <input
      class="form-check-input"
      type="checkbox"
      [value]="acc.id"
      (change)="onAccessoryChange($event)"
      [checked]="roomForm.value.accessoryIds.includes(acc.id)"
    />
    <label class="form-check-label">{{ acc.name }}</label>
  </div>
</div>


    <!-- Buttons -->
    <div class="d-flex justify-content-end gap-2 mt-4">
      <button type="button" class="btn btn-secondary" (click)="cancel()">Cancel</button>
      <button type="submit" class="btn btn-primary" [disabled]="submitting">
        <span *ngIf="submitting" class="spinner-border spinner-border-sm"></span>
        {{ submitting ? 'Updating...' : 'Update' }}
      </button>
    </div>

  </form>

</div>
